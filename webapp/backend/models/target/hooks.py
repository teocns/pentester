from django.db.models.signals import post_save
from .model import Target
    

def on_save(sender, instance: Target, **kwargs):
    """Fires when model is saved"""
    # Enqueue for open ports scan
    instance.ports.scan()

def init_hooks():
    post_save.connect(
        on_save,
        sender=Target,
    )
