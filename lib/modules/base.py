import abc

from lib.modules.mixins.worker import WorkerMixin


class BaseModule(WorkerMixin):

    """
    Module refers to an attack tool.
    It is an interface for any tool that needs to run within the shell KALI linux environment
    """
    # Get name based on current filepath


    def __init_subclass__(cls) -> None:
        super().__init_subclass__()
        cls.name = cls.tool_name

    @property
    def tool_name(cls):
        name = cls.__module__
        return name.replace("lib.modules.",'')


    @abc.abstractmethod
    def get_result(cls, *args, **kwargs):
        """Example usage: BaseTool.run()"""
        raise NotImplementedError("Must implement get_result()")

    #@celery.task(bind=True, autoretry_for=(Exception,), retry_backoff=True)
    